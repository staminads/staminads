!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Staminads=t()}(this,function(){"use strict";const e="stm_";class t{constructor(){this.useMemory=!1,this.memory=new Map,this.testStorage()}testStorage(){try{const t=e+"test";localStorage.setItem(t,"test"),localStorage.removeItem(t)}catch{this.useMemory=!0}}get(t){const i=e+t;if(this.useMemory){const e=this.memory.get(i);if(void 0===e)return null;try{return JSON.parse(e)}catch{return null}}try{const e=localStorage.getItem(i);return null===e?null:JSON.parse(e)}catch{return this.useMemory=!0,this.memory.get(i)?JSON.parse(this.memory.get(i)):null}}set(t,i){const s=e+t,a=JSON.stringify(i);if(this.useMemory)this.memory.set(s,a);else try{localStorage.setItem(s,a)}catch{this.useMemory=!0,this.memory.set(s,a)}}remove(t){const i=e+t;if(this.useMemory)this.memory.delete(i);else try{localStorage.removeItem(i)}catch{this.memory.delete(i)}}clear(){if(this.useMemory)this.memory.clear();else try{const t=[];for(let i=0;i<localStorage.length;i++){const s=localStorage.key(i);s?.startsWith(e)&&t.push(s)}t.forEach(e=>localStorage.removeItem(e))}catch{this.memory.clear()}}isUsingMemory(){return this.useMemory}}class i{constructor(){this.memory=new Map,this.useMemory=!1,this.testStorage()}testStorage(){try{const t=e+"test";sessionStorage.setItem(t,"test"),sessionStorage.removeItem(t)}catch{this.useMemory=!0}}get(t){const i=e+t;if(this.useMemory){const e=this.memory.get(i);if(void 0===e)return null;try{return JSON.parse(e)}catch{return null}}try{const e=sessionStorage.getItem(i);return null===e?null:JSON.parse(e)}catch{return this.useMemory=!0,null}}set(t,i){const s=e+t,a=JSON.stringify(i);if(this.useMemory)this.memory.set(s,a);else try{sessionStorage.setItem(s,a)}catch{this.useMemory=!0,this.memory.set(s,a)}}}const s="session",a="visitor_id",r="pending",n="tab_id",o="dimensions";function h(){if(crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Array.from(e,e=>e.toString(16).padStart(2,"0")).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}function c(){const e=Date.now().toString(16).padStart(12,"0"),t=new Uint8Array(10);crypto.getRandomValues(t);const i=Array.from(t,e=>e.toString(16).padStart(2,"0")).join("");return[e.slice(0,8),e.slice(8,12),"7"+i.slice(0,3),(3&parseInt(i.slice(3,4),16)|8).toString(16)+i.slice(4,7),i.slice(7,19)].join("-")}const l=["gclid","fbclid","msclkid","dclid","twclid","ttclid","li_fat_id","wbraid","gbraid"];class u{constructor(e,t,i){this.session=null,this.storage=e,this.tabStorage=t,this.config=i,this.debug=i.debug,this.tabId=this.getOrCreateTabId()}getOrCreateSession(){const e=this.storage.get(s);return e&&!this.isSessionExpired(e)?(e.last_active_at=Date.now(),e.updated_at=Date.now(),e.sequence++,this.session=e,this.saveSession(),this.storage.get(a)||this.storage.set(a,e.visitor_id),this.debug,e):this.createSession()}createSession(){const e=Date.now(),t=function(e,t=l){const i=new URL(e).searchParams;let s=null,a=null;for(const e of t){const t=i.get(e);if(t){s=t,a=e;break}}return{source:i.get("utm_source"),medium:i.get("utm_medium"),campaign:i.get("utm_campaign"),term:i.get("utm_term"),content:i.get("utm_content"),id:s,id_from:a}}(window.location.href,this.config.adClickIds);let i=this.storage.get(a);i||(i=h(),this.storage.set(a,i));const s={id:c(),visitor_id:i,workspace_id:this.config.workspace_id,created_at:e,updated_at:e,last_active_at:e,focus_duration_ms:0,total_duration_ms:0,referrer:document.referrer||null,landing_page:window.location.href,utm:this.hasUTMValues(t)?t:null,max_scroll_percent:0,interaction_count:0,sdk_version:"5.0.0",sequence:0,dimensions:this.loadDimensions()};return this.session=s,this.saveSession(),this.debug,s}isSessionExpired(e){return Date.now()-e.last_active_at>this.config.sessionTimeout}hasUTMValues(e){return Boolean(e.source||e.medium||e.campaign||e.term||e.content||e.id)}getSession(){return this.session}updateSession(e){this.session&&(Object.assign(this.session,e,{updated_at:Date.now(),last_active_at:Date.now()}),this.saveSession())}saveSession(){this.session&&this.storage.set(s,this.session)}getTabId(){return this.tabId}getOrCreateTabId(){let e=this.tabStorage.get(n);return e||(e=h(),this.tabStorage.set(n,e)),e}getVisitorId(){return this.session?.visitor_id||""}getSessionId(){return this.session?.id||""}setDimension(e,t){if(e<1||e>10)throw new Error("Dimension index must be between 1 and 10");if("string"!=typeof t)throw new Error("Dimension value must be a string");if(t.length>256)throw new Error("Dimension value must be 256 characters or less");this.session&&(this.session.dimensions[e]=t,this.saveDimensions(),this.saveSession(),this.debug)}setDimensions(e){for(const[t,i]of Object.entries(e))this.setDimension(Number(t),i)}getDimension(e){return this.session&&this.session.dimensions[e]||null}clearDimensions(){this.session&&(this.session.dimensions={},this.saveDimensions(),this.saveSession())}getDimensionsPayload(){if(!this.session)return{};const e={};for(const[t,i]of Object.entries(this.session.dimensions))e[`stm_${t}`]=i;return e}loadDimensions(){return this.storage.get(o)||{}}saveDimensions(){this.session&&this.storage.set(o,this.session.dimensions)}reset(){return this.storage.remove(s),this.storage.remove(o),this.session=null,this.createSession()}}class d{constructor(e=!1){this.focusStartTime=null,this.accumulatedFocusMs=0,this.lastTickTime=0,this.tickInterval=null,this.state="BLURRED",this.onTick=null,this.debug=e}getState(){return this.state}setTickCallback(e){this.onTick=e}startFocus(){"FOCUSED"!==this.state&&(this.state="FOCUSED",this.focusStartTime=performance.now(),this.lastTickTime=this.focusStartTime,this.startTicking(),this.debug)}pauseFocus(){"BLURRED"!==this.state&&"HIDDEN"!==this.state&&(this.state="BLURRED",this.accumulateFocusTime(),this.stopTicking(),this.debug)}hideFocus(){"HIDDEN"!==this.state&&(this.state="HIDDEN",this.accumulateFocusTime(),this.stopTicking(),this.debug)}resumeFocus(){"FOCUSED"!==this.state&&(this.state="FOCUSED",this.focusStartTime=performance.now(),this.lastTickTime=this.focusStartTime,this.startTicking(),this.debug)}getFocusDurationMs(){let e=this.accumulatedFocusMs;if(null!==this.focusStartTime&&"FOCUSED"===this.state){const t=performance.now()-this.focusStartTime;t>0&&(e+=t)}return Math.round(e)}getFocusDurationSeconds(){return Math.round(this.getFocusDurationMs()/1e3)}reset(){this.accumulatedFocusMs=0,this.focusStartTime=null,this.lastTickTime=0,this.stopTicking(),this.state="BLURRED",this.startFocus()}setAccumulatedDuration(e){this.accumulatedFocusMs=e}accumulateFocusTime(){if(null===this.focusStartTime)return;const e=performance.now()-this.focusStartTime;e>0&&e<3e5&&(this.accumulatedFocusMs+=e),this.focusStartTime=null}startTicking(){this.tickInterval||(this.tickInterval=setInterval(()=>{this.tick()},1e3))}stopTicking(){this.tickInterval&&(clearInterval(this.tickInterval),this.tickInterval=null)}tick(){if(null===this.focusStartTime||"FOCUSED"!==this.state)return;const e=performance.now(),t=e-this.lastTickTime;return this.lastTickTime=e,t>5e3||t<0?(this.debug,void(this.focusStartTime=e)):void(this.onTick&&this.onTick())}destroy(){this.stopTicking(),this.onTick=null}}class g{constructor(e,t,i=!1){this.endpoint=e,this.storage=t,this.debug=i}async send(e){e.sent_at=Date.now();const t=`${this.endpoint}/api/track`,i=JSON.stringify(e);return this.debug,!!this.sendBeacon(t,i)||(!!await this.sendFetch(t,i)||(this.queuePayload(e),!1))}sendBeacon(e,t){if(!navigator.sendBeacon)return!1;if(t.length>15360)return this.debug,!1;try{const i=new Blob([t],{type:"application/json"}),s=navigator.sendBeacon(e,i);return this.debug,s}catch{return!1}}async sendFetch(e,t){try{return!!(await fetch(e,{method:"POST",body:t,headers:{"Content-Type":"application/json"},keepalive:!0})).ok&&(this.debug,!0)}catch{return!1}}queuePayload(e){const t=this.getQueue();t.length>=50&&t.shift();const i={id:h(),payload:e,created_at:Date.now(),attempts:0,last_attempt:null};t.push(i),this.storage.set(r,t),this.debug}getQueue(){return this.storage.get(r)||[]}async flushQueue(){const e=this.getQueue();if(0===e.length)return;this.debug;const t=[];for(const i of e){if(Date.now()-i.created_at>864e5)continue;if(i.attempts>=5)continue;const e=Math.min(1e3*Math.pow(2,i.attempts),3e4);if(i.last_attempt&&Date.now()-i.last_attempt<e){t.push(i);continue}i.attempts++,i.last_attempt=Date.now(),i.payload.sent_at=Date.now();const s=`${this.endpoint}/api/track`,a=JSON.stringify(i.payload);await this.sendFetch(s,a)||t.push(i)}this.storage.set(r,t)}getQueueLength(){return this.getQueue().length}}var m,w="user-agent",b="",p="function",f="object",v="string",k="undefined",y="browser",S="cpu",T="device",x="engine",_="os",D="result",M="name",I="type",C="vendor",E="version",O="architecture",H="major",P="model",A="console",z="mobile",F="tablet",U="smarttv",R="wearable",N="xr",L="embedded",q="inapp",V="brands",B="formFactors",j="fullVersionList",W="platform",$="platformVersion",G="bitness",Q="sec-ch-ua",J=Q+"-full-version-list",X=Q+"-arch",Y=Q+"-"+G,Z=Q+"-form-factors",K=Q+"-"+z,ee=Q+"-"+P,te=Q+"-"+W,ie=te+"-version",se=[V,j,z,P,W,$,O,B,G],ae="Amazon",re="Apple",ne="ASUS",oe="BlackBerry",he="Google",ce="Huawei",le="Lenovo",ue="Honor",de="LG",ge="Microsoft",me="Motorola",we="Nvidia",be="OnePlus",pe="OPPO",fe="Samsung",ve="Sharp",ke="Sony",ye="Xiaomi",Se="Zebra",Te="Chrome",xe="Chromium",_e="Chromecast",De="Edge",Me="Firefox",Ie="Opera",Ce="Facebook",Ee="Sogou",Oe="Mobile ",He=" Browser",Pe="Windows",Ae=typeof window!==k&&window.navigator?window.navigator:void 0,ze=Ae&&Ae.userAgentData?Ae.userAgentData:void 0,Fe=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},Ue=function(e,t){if(typeof e===f&&e.length>0){for(var i in e)if(qe(t)==qe(e[i]))return!0;return!1}return!!Ne(e)&&qe(t)==qe(e)},Re=function(e,t){for(var i in e)return/^(browser|cpu|device|engine|os)$/.test(i)||!!t&&Re(e[i])},Ne=function(e){return typeof e===v},Le=function(e){if(e){for(var t=[],i=je(/\\?\"/g,e).split(","),s=0;s<i.length;s++)if(i[s].indexOf(";")>-1){var a=$e(i[s]).split(";v=");t[s]={brand:a[0],version:a[1]}}else t[s]=$e(i[s]);return t}},qe=function(e){return Ne(e)?e.toLowerCase():e},Ve=function(e){return Ne(e)?je(/[^\d\.]/g,e).split(".")[0]:void 0},Be=function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];typeof i==f&&2==i.length?this[i[0]]=i[1]:this[i]=void 0}return this},je=function(e,t){return Ne(t)?t.replace(e,b):t},We=function(e){return je(/\\?\"/g,e)},$e=function(e,t){return e=je(/^\s\s*/,String(e)),typeof t===k?e:e.substring(0,t)},Ge=function(e,t){if(e&&t)for(var i,s,a,r,n,o,h=0;h<t.length&&!n;){var c=t[h],l=t[h+1];for(i=s=0;i<c.length&&!n&&c[i];)if(n=c[i++].exec(e))for(a=0;a<l.length;a++)o=n[++s],typeof(r=l[a])===f&&r.length>0?2===r.length?typeof r[1]==p?this[r[0]]=r[1].call(this,o):this[r[0]]=r[1]:r.length>=3&&(typeof r[1]!==p||r[1].exec&&r[1].test?3==r.length?this[r[0]]=o?o.replace(r[1],r[2]):void 0:4==r.length?this[r[0]]=o?r[3].call(this,o.replace(r[1],r[2])):void 0:r.length>4&&(this[r[0]]=o?r[3].apply(this,[o.replace(r[1],r[2])].concat(r.slice(4))):void 0):r.length>3?this[r[0]]=o?r[1].apply(this,r.slice(2)):void 0:this[r[0]]=o?r[1].call(this,o,r[2]):void 0):this[r]=o||void 0;h+=2}},Qe=function(e,t){for(var i in t)if(typeof t[i]===f&&t[i].length>0){for(var s=0;s<t[i].length;s++)if(Ue(t[i][s],e))return"?"===i?void 0:i}else if(Ue(t[i],e))return"?"===i?void 0:i;return t.hasOwnProperty("*")?t["*"]:e},Je={ME:"4.90","NT 3.51":"3.51","NT 4.0":"4.0",2e3:["5.0","5.01"],XP:["5.1","5.2"],Vista:"6.0",7:"6.1",8:"6.2",8.1:"6.3",10:["6.4","10.0"],NT:""},Xe={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Ye={Chrome:"Google Chrome",Edge:"Microsoft Edge","Edge WebView2":"Microsoft Edge WebView2","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"},Ze={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[M,Oe+"Chrome"]],[/webview.+edge\/([\w\.]+)/i],[E,[M,De+" WebView"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[M,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[M,E],[/opios[\/ ]+([\w\.]+)/i],[E,[M,Ie+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[E,[M,Ie+" GX"]],[/\bopr\/([\w\.]+)/i],[E,[M,Ie]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[M,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[E,[M,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(atlas|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser|palemoon)\/([-\w\.]+)/i,/(heytap|ovi|115|surf|qwant)browser\/([\d\.]+)/i,/(qwant)(?:ios|mobile)\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[M,E],[/quark(?:pc)?\/([-\w\.]+)/i],[E,[M,"Quark"]],[/\bddg\/([\w\.]+)/i],[E,[M,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[M,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[M,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[M,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[M,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[M,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[M,"Smart "+le+He]],[/(avast|avg)\/([\w\.]+)/i],[[M,/(.+)/,"$1 Secure"+He],E],[/\bfocus\/([\w\.]+)/i],[E,[M,Me+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[M,Ie+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[M,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[M,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[M,Ie+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[M,"MIUI"+He]],[/fxios\/([\w\.-]+)/i],[E,[M,Oe+Me]],[/\bqihoobrowser\/?([\w\.]*)/i],[E,[M,"360"]],[/\b(qq)\/([\w\.]+)/i],[[M,/(.+)/,"$1Browser"],E],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[M,/(.+)/,"$1"+He],E],[/samsungbrowser\/([\w\.]+)/i],[E,[M,fe+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[E,[M,Ee+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[M,Ee+" Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[M,E],[/(lbbrowser|rekonq|steam(?= (clie|tenf|gameo)))/i],[M],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[E,M],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[M,Ce],E,[I,q]],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(bing)(?:web|sapphire)\/([\w\.]+)/i,/(instagram|snapchat|klarna)[\/ ]([-\w\.]+)/i],[M,E,[I,q]],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[M,"GSA"],[I,q]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[M,"TikTok"],[I,q]],[/\[(linkedin)app\]/i],[M,[I,q]],[/(zalo(?:app)?)[\/\sa-z]*([\w\.-]+)/i],[[M,/(.+)/,"Zalo"],E,[I,q]],[/(chromium)[\/ ]([-\w\.]+)/i],[M,E],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[M,Te+" Headless"]],[/wv\).+chrome\/([\w\.]+).+edgw\//i],[E,[M,De+" WebView2"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[M,Te+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[M,"Android"+He]],[/chrome\/([\w\.]+) mobile/i],[E,[M,Oe+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[M,E],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[E,[M,Oe+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[M,Oe+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[E,M],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[M,[E,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[M,E],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[M,Oe+Me],E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[M,"Netscape"],E],[/(wolvic|librewolf)\/([\w\.]+)/i],[M,E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[M,Me+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+(?= .+rv\:.+gecko\/\d+)|[0-4][\w\.]+(?!.+compatible))/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[M,[E,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[M,[E,/[^\d\.]+./,b]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[O,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[O,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[O,"arm"]],[/ sun4\w[;\)]/i],[[O,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i,/((ppc|powerpc)(64)?)( mac|;|\))/i,/(?:osf1|[freopnt]{3,4}bsd) (alpha)/i],[[O,/ower/,b,qe]],[/mc680.0/i],[[O,"68k"]],[/winnt.+\[axp/i],[[O,"alpha"]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[P,[C,fe],[I,F]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr]|browser)[-\w]+)/i,/sec-(sgh\w+)/i],[P,[C,fe],[I,z]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)[\/\);]/i],[P,[C,re],[I,z]],[/\b(?:ios|apple\w+)\/.+[\(\/](ipad)/i,/\b(ipad)[\d,]*[;\] ].+(mac |i(pad)?)os/i],[P,[C,re],[I,F]],[/(macintosh);/i],[P,[C,re]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[P,[C,ve],[I,z]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[P,[C,ue],[I,F]],[/honor([-\w ]+)[;\)]/i],[P,[C,ue],[I,z]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[P,[C,ce],[I,F]],[/(?:huawei) ?([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][\dc][adnt]?)\b(?!.+d\/s)/i],[P,[C,ce],[I,z]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b(?:xiao)?((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[P,/_/g," "],[C,ye],[I,F]],[/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/oid[^\)]+; (redmi[\-_ ]?(?:note|k)?[\w_ ]+|m?[12]\d[01]\d\w{3,6}|poco[\w ]+|(shark )?\w{3}-[ah]0|qin ?[1-3](s\+|ultra| pro)?)( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note|max|cc)?[_ ]?(?:\d{0,2}\w?)[_ ]?(?:plus|se|lite|pro)?( 5g|lte)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[P,/_/g," "],[C,ye],[I,z]],[/droid.+; (cph2[3-6]\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\d|p[g-k]\w[1m]10)\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[P,[C,be],[I,z]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[P,[C,pe],[I,z]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[P,[C,Qe,{OnePlus:["203","304","403","404","413","415"],"*":pe}],[I,F]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[P,[C,"BLU"],[I,z]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[P,[C,"Vivo"],[I,z]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[P,[C,"Realme"],[I,z]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[P,[C,le],[I,F]],[/lenovo[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i],[P,[C,le],[I,z]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ]([\w\s]+)(\)| bui)/i,/((?:moto(?! 360)[-\w\(\) ]+|xt\d{3,4}[cgkosw\+]?[-\d]*|nexus 6)(?= bui|\)))/i],[P,[C,me],[I,z]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[P,[C,me],[I,F]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[P,[C,de],[I,F]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\w+)/i,/\blg-?([\d\w]+) bui/i],[P,[C,de],[I,z]],[/(nokia) (t[12][01])/i],[C,P,[I,F]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*?))( bui|\)|;|\/)/i],[[P,/_/g," "],[I,z],[C,"Nokia"]],[/(pixel (c|tablet))\b/i],[P,[C,he],[I,F]],[/droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\d ]*a?( pro)?( xl)?( fold)?( \(5g\))?)( bui|\))/i],[P,[C,he],[I,z]],[/(google) (pixelbook( go)?)/i],[C,P],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-\w\w\d\d)(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[P,[C,ke],[I,z]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[P,"Xperia Tablet"],[C,ke],[I,F]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[P,[C,ae],[I,F]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[P,/(.+)/g,"Fire Phone $1"],[C,ae],[I,z]],[/(playbook);[-\w\),; ]+(rim)/i],[P,C,[I,F]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/(?:blackberry|\(bb10;) (\w+)/i],[P,[C,oe],[I,z]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[P,[C,ne],[I,F]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[P,[C,ne],[I,z]],[/(nexus 9)/i],[P,[C,"HTC"],[I,F]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[C,[P,/_/g," "],[I,z]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[P,[C,"TCL"],[I,F]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[P,[C,"TCL"],[I,z]],[/(itel) ((\w+))/i],[[C,qe],P,[I,Qe,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[P,[C,"Acer"],[I,F]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[P,[C,"Meizu"],[I,z]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[P,[C,"Ulefone"],[I,z]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[P,[C,"Energizer"],[I,z]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[P,[C,"Cat"],[I,z]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[P,[C,"Smartfren"],[I,z]],[/droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i],[P,[C,"Nothing"],[I,z]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[P,[C,"Archos"],[I,F]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[P,[C,"Archos"],[I,z]],[/; (n159v)/i],[P,[C,"HMD"],[I,z]],[/(imo) (tab \w+)/i,/(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i],[C,P,[I,F]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|infinix|lava|oneplus|tcl|wiko)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(oppo) ?([\w ]+) bui/i,/(hisense) ([ehv][\w ]+)\)/i,/droid[^;]+; (philips)[_ ]([sv-x][\d]{3,4}[xz]?)/i],[C,P,[I,z]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[C,P,[I,F]],[/(surface duo)/i],[P,[C,ge],[I,F]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[P,[C,"Fairphone"],[I,z]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[P,[C,we],[I,F]],[/(sprint) (\w+)/i],[C,P,[I,z]],[/(kin\.[onetw]{3})/i],[[P,/\./g," "],[C,ge],[I,z]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[P,[C,Se],[I,F]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[P,[C,Se],[I,z]],[/(philips)[\w ]+tv/i,/smart-tv.+(samsung)/i],[C,[I,U]],[/hbbtv.+maple;(\d+)/i],[[P,/^/,"SmartTV"],[C,fe],[I,U]],[/(vizio)(?: |.+model\/)(\w+-\w+)/i,/tcast.+(lg)e?. ([-\w]+)/i],[C,P,[I,U]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[C,de],[I,U]],[/(apple) ?tv/i],[C,[P,re+" TV"],[I,U]],[/crkey.*devicetype\/chromecast/i],[[P,_e+" Third Generation"],[C,he],[I,U]],[/crkey.*devicetype\/([^/]*)/i],[[P,/^/,"Chromecast "],[C,he],[I,U]],[/fuchsia.*crkey/i],[[P,_e+" Nest Hub"],[C,he],[I,U]],[/crkey/i],[[P,_e],[C,he],[I,U]],[/(portaltv)/i],[P,[C,Ce],[I,U]],[/droid.+aft(\w+)( bui|\))/i],[P,[C,ae],[I,U]],[/(shield \w+ tv)/i],[P,[C,we],[I,U]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[P,[C,ve],[I,U]],[/(bravia[\w ]+)( bui|\))/i],[P,[C,ke],[I,U]],[/(mi(tv|box)-?\w+) bui/i],[P,[C,ye],[I,U]],[/Hbbtv.*(technisat) (.*);/i],[C,P,[I,U]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[C,/.+\/(\w+)/,"$1",Qe,{LG:"lge"}],[P,$e],[I,U]],[/(playstation \w+)/i],[P,[C,ke],[I,A]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[P,[C,ge],[I,A]],[/(ouya)/i,/(nintendo) (\w+)/i,/(retroid) (pocket ([^\)]+))/i,/(valve).+(steam deck)/i,/droid.+; ((shield|rgcube|gr0006))( bui|\))/i],[[C,Qe,{Nvidia:"Shield",Anbernic:"RGCUBE",Logitech:"GR0006"}],P,[I,A]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[P,[C,fe],[I,R]],[/((pebble))app/i,/(asus|google|lg|oppo|xiaomi) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[C,P,[I,R]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[P,[C,pe],[I,R]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[P,[C,re],[I,R]],[/(opwwe\d{3})/i],[P,[C,be],[I,R]],[/(moto 360)/i],[P,[C,me],[I,R]],[/(smartwatch 3)/i],[P,[C,ke],[I,R]],[/(g watch r)/i],[P,[C,de],[I,R]],[/droid.+; (wt63?0{2,3})\)/i],[P,[C,Se],[I,R]],[/droid.+; (glass) \d/i],[P,[C,he],[I,N]],[/(pico) ([\w ]+) os\d/i],[C,P,[I,N]],[/(quest( \d| pro)?s?).+vr/i],[P,[C,Ce],[I,N]],[/mobile vr; rv.+firefox/i],[[I,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[C,[I,L]],[/(aeobc)\b/i],[P,[C,ae],[I,L]],[/(homepod).+mac os/i],[P,[C,re],[I,L]],[/windows iot/i],[[I,L]],[/droid.+; ([\w- ]+) (4k|android|smart|google)[- ]?tv/i],[P,[I,U]],[/\b((4k|android|smart|opera)[- ]?tv|tv; rv:|large screen[\w ]+safari)\b/i],[[I,U]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew|; hmsc).+?(mobile|vr|\d) safari/i],[P,[I,Qe,{mobile:"Mobile",xr:"VR","*":F}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[I,F]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[I,z]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[P,[C,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[M,De+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[M,E],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[M,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[M,E],[/ladybird\//i],[[M,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,M]],os:[[/(windows nt) (6\.[23]); arm/i],[[M,/N/,"R"],[E,Qe,Je]],[/(windows (?:phone|mobile|iot))(?: os)?[\/ ]?([\d\.]*( se)?)/i,/(windows)[\/ ](1[01]|2000|3\.1|7|8(\.1)?|9[58]|me|server 20\d\d( r2)?|vista|xp)/i],[M,E],[/windows nt ?([\d\.\)]*)(?!.+xbox)/i,/\bwin(?=3| ?9|n)(?:nt| 9x )?([\d\.;]*)/i],[[E,/(;|\))/g,"",Qe,Je],[M,Pe]],[/(windows ce)\/?([\d\.]*)/i],[M,E],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv|ios(?=.+ip(?:ad|hone)|.+apple ?tv)|ip(?:ad|hone)(?: |.+i(?:pad)?)os|apple ?tv.+ios)[\/ ]([\w\.]+)/i,/\btvos ?([\w\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[M,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+(haiku|morphos))/i],[[M,"macOS"],[E,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[E,[M,_e+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[E,[M,_e+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[E,[M,_e+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[E,[M,_e+" Linux"]],[/crkey\/([\d\.]+)/i],[E,[M,_e]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[E,M],[/(ubuntu) ([\w\.]+) like android/i],[[M,/(.+)/,"$1 Touch"],E],[/(harmonyos)[\/ ]?([\d\.]*)/i,/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\w*[-\/\.; ]?([\d\.]*)/i],[M,E],[/\(bb(10);/i],[E,[M,oe]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[E,[M,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[M,Me+" OS"]],[/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i,/webos(?:[ \/]?|\.tv-20(?=2[2-9]))(\d[\d\.]*)/i],[E,[M,"webOS"]],[/web0s;.+?(?:chr[o0]me|safari)\/(\d+)/i],[[E,Qe,{25:"120",24:"108",23:"94",22:"87",6:"79",5:"68",4:"53",3:"38",2:"538",1:"537","*":"TV"}],[M,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[M,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[M,"Chrome OS"],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/linux.+(mint)[\/\(\) ]?([\w\.]*)/i,/(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\d\.]*)/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/\b(aix)[; ]([1-9\.]{0,4})/i,/(hurd|linux|morphos)(?: (?:arm|x86|ppc)\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) ?(r\d)?/i],[M,E],[/(sunos) ?([\d\.]*)/i],[[M,"Solaris"],E],[/\b(beos|os\/2|amigaos|openvms|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[M,E]]},Ke=(Be.call((m={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}}).init,[[y,[M,E,H,I]],[S,[O]],[T,[I,P,C]],[x,[M,E]],[_,[M,E]]]),Be.call(m.isIgnore,[[y,[E,H]],[x,[E]],[_,[E]]]),Be.call(m.isIgnoreRgx,[[y,/ ?browser$/i],[_,/ ?os$/i]]),Be.call(m.toString,[[y,[M,E]],[S,[O]],[T,[C,P]],[x,[M,E]],[_,[M,E]]]),m),et=function(e,t){var i=Ke.init[t],s=Ke.isIgnore[t]||0,a=Ke.isIgnoreRgx[t]||0,r=Ke.toString[t]||0;function n(){Be.call(this,i)}return n.prototype.getItem=function(){return e},n.prototype.withClientHints=function(){return ze?ze.getHighEntropyValues(se).then(function(t){return e.setCH(new tt(t,!1)).parseCH().get()}):e.parseCH().get()},n.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=D&&(n.prototype.is=function(e){var t=!1;for(var i in this)if(this.hasOwnProperty(i)&&!Ue(s,i)&&qe(a?je(a,this[i]):this[i])==qe(a?je(a,e):e)){if(t=!0,e!=k)break}else if(e==k&&t){t=!t;break}return t},n.prototype.toString=function(){var e=b;for(var t in r)typeof this[r[t]]!==k&&(e+=(e?" ":b)+this[r[t]]);return e||k}),n.prototype.then=function(e){var t=this,i=function(){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};i.prototype={is:n.prototype.is,toString:n.prototype.toString,withClientHints:n.prototype.withClientHints,withFeatureCheck:n.prototype.withFeatureCheck};var s=new i;return e(s),s},new n};function tt(e,t){if(e=e||{},Be.call(this,se),t)Be.call(this,[[V,Le(e[Q])],[j,Le(e[J])],[z,/\?1/.test(e[K])],[P,We(e[ee])],[W,We(e[te])],[$,We(e[ie])],[O,We(e[X])],[B,Le(e[Z])],[G,We(e[Y])]]);else for(var i in e)this.hasOwnProperty(i)&&typeof e[i]!==k&&(this[i]=e[i])}function it(e,t,i,s){return Be.call(this,[["itemType",e],["ua",t],["uaCH",s],["rgxMap",i],["data",et(this,e)]]),this}function st(e,t,i){if(typeof e===f?(Re(e,!0)?(typeof t===f&&(i=t),t=e):(i=e,t=void 0),e=void 0):typeof e!==v||Re(t,!0)||(i=t,t=void 0),i)if(typeof i.append===p){var s={};i.forEach(function(e,t){s[String(t).toLowerCase()]=e}),i=s}else{var a={};for(var r in i)i.hasOwnProperty(r)&&(a[String(r).toLowerCase()]=i[r]);i=a}if(!(this instanceof st))return new st(e,t,i).getResult();var n=typeof e===v?e:i&&i[w]?i[w]:Ae&&Ae.userAgent?Ae.userAgent:b,o=new tt(i,!0),h=t?function(e,t){var i={},s=t;if(!Re(t))for(var a in s={},t)for(var r in t[a])s[r]=t[a][r].concat(s[r]?s[r]:[]);for(var n in e)i[n]=s[n]&&s[n].length%2==0?s[n].concat(e[n]):e[n];return i}(Ze,t):Ze,c=function(e){return e==D?function(){return new it(e,n,h,o).set("ua",n).set(y,this.getBrowser()).set(S,this.getCPU()).set(T,this.getDevice()).set(x,this.getEngine()).set(_,this.getOS()).get()}:function(){return new it(e,n,h[e],o).parseUA().get()}};return Be.call(this,[["getBrowser",c(y)],["getCPU",c(S)],["getDevice",c(T)],["getEngine",c(x)],["getOS",c(_)],["getResult",c(D)],["getUA",function(){return n}],["setUA",function(e){return Ne(e)&&(n=$e(e,500)),this}]]).setUA(n),this}it.prototype.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},it.prototype.set=function(e,t){return this.data[e]=t,this},it.prototype.setCH=function(e){return this.uaCH=e,this},it.prototype.detectFeature=function(){if(Ae&&Ae.userAgent==this.ua)switch(this.itemType){case y:Ae.brave&&typeof Ae.brave.isBrave==p&&this.set(M,"Brave");break;case T:!this.get(I)&&ze&&ze[z]&&this.set(I,z),"Macintosh"==this.get(P)&&Ae&&typeof Ae.standalone!==k&&Ae.maxTouchPoints&&Ae.maxTouchPoints>2&&this.set(P,"iPad").set(I,F);break;case _:!this.get(M)&&ze&&ze[W]&&this.set(M,ze[W]);break;case D:var e=this.data,t=function(t){return e[t].getItem().detectFeature().get()};this.set(y,t(y)).set(S,t(S)).set(T,t(T)).set(x,t(x)).set(_,t(_))}return this},it.prototype.parseUA=function(){switch(this.itemType!=D&&Ge.call(this.data,this.ua,this.rgxMap),this.itemType){case y:this.set(H,Ve(this.get(E)));break;case _:if("iOS"==this.get(M)&&"18.6"==this.get(E)){var e=/\) Version\/([\d\.]+)/.exec(this.ua);e&&parseInt(e[1].substring(0,2),10)>=26&&this.set(E,e[1])}}return this},it.prototype.parseCH=function(){var e=this.uaCH,t=this.rgxMap;switch(this.itemType){case y:case x:var i,s=e[j]||e[V];if(s)for(var a=0;a<s.length;a++){var r=s[a].brand||s[a],n=s[a].version;this.itemType==y&&!/not.a.brand/i.test(r)&&(!i||/Chrom/.test(i)&&r!=xe||i==De&&/WebView2/.test(r))&&(r=Qe(r,Ye),(i=this.get(M))&&!/Chrom/.test(i)&&/Chrom/.test(r)||this.set(M,r).set(E,n).set(H,Ve(n)),i=r),this.itemType==x&&r==xe&&this.set(E,n)}break;case S:var o=e[O];o&&(o&&"64"==e[G]&&(o+="64"),Ge.call(this.data,o+";",t));break;case T:if(e[z]&&this.set(I,z),e[P]&&(this.set(P,e[P]),!this.get(I)||!this.get(C))){var h={};Ge.call(h,"droid 9; "+e[P]+")",t),!this.get(I)&&h.type&&this.set(I,h.type),!this.get(C)&&h.vendor&&this.set(C,h.vendor)}if(e[B]){var c;if("string"!=typeof e[B])for(var l=0;!c&&l<e[B].length;)c=Qe(e[B][l++],Xe);else c=Qe(e[B],Xe);this.set(I,c)}break;case _:var u=e[W];if(u){var d=e[$];u==Pe&&(d=parseInt(Ve(d),10)>=13?"11":"10"),this.set(M,u).set(E,d)}this.get(M)==Pe&&"Xbox"==e[P]&&this.set(M,"Xbox").set(E,void 0);break;case D:var g=this.data,m=function(t){return g[t].getItem().setCH(e).parseCH().get()};this.set(y,m(y)).set(S,m(S)).set(T,m(T)).set(x,m(x)).set(_,m(_))}return this},st.VERSION="2.0.7",st.BROWSER=Fe([M,E,H,I]),st.CPU=Fe([O]),st.DEVICE=Fe([P,C,I,A,z,U,F,R,L]),st.ENGINE=st.OS=Fe([M,E]);class at{constructor(){this.parser=new st}async detectWithClientHints(){try{const e=await this.parser.withClientHints();return this.mapResult(e)}catch{return this.detect()}}detect(){const e=this.parser.getResult();return this.mapResult(e)}mapResult(e){return{screen_width:window.screen.width,screen_height:window.screen.height,viewport_width:window.innerWidth,viewport_height:window.innerHeight,device:this.normalizeDeviceType(e.device.type),browser:e.browser.name||"Unknown",browser_type:this.getBrowserType(e),os:this.normalizeOS(e.os.name,e.device.type),user_agent:navigator.userAgent,connection_type:this.getConnectionType(),timezone:this.getTimezone(),language:navigator.language||"en"}}normalizeDeviceType(e){switch(e){case"mobile":return"mobile";case"tablet":return"tablet";default:return"desktop"}}normalizeOS(e,t){if(!e)return"Unknown";if("iOS"===e&&"tablet"===t)return"iPadOS";return{"Mac OS":"macOS",Windows:"Windows",iOS:"iOS",Android:"Android",Linux:"Linux","Chrome OS":"Chrome OS",Ubuntu:"Linux",Fedora:"Linux",Debian:"Linux"}[e]||e}getBrowserType(e){const t=navigator.userAgent.toLowerCase();return/bot|crawler|spider|scraper/i.test(t)?"crawler":/fbav|fban|instagram|twitter|linkedin|pinterest/i.test(t)?"inapp":/thunderbird|outlook/i.test(t)?"email":/headless|phantom|puppeteer|selenium/i.test(t)?"fetcher":/curl|wget|httpie/i.test(t)?"cli":null}getConnectionType(){const e=navigator.connection;return e?.effectiveType||""}getTimezone(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return""}}}class rt{constructor(){this.maxScrollPercent=0,this.onMilestone=null,this.lastMilestone=0,this.boundHandler=null,this.boundHandler=function(e,t){let i=0,s=null;return(...a)=>{const r=Date.now(),n=r-i;n>=t?(i=r,e(...a)):(s&&clearTimeout(s),s=setTimeout(()=>{i=Date.now(),e(...a),s=null},t-n))}}(()=>this.handleScroll(),100)}start(){this.boundHandler&&window.addEventListener("scroll",this.boundHandler,{passive:!0}),this.handleScroll()}stop(){this.boundHandler&&window.removeEventListener("scroll",this.boundHandler)}setMilestoneCallback(e){this.onMilestone=e}getMaxScrollPercent(){return this.maxScrollPercent}handleScroll(){const e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),t=window.innerHeight,i=window.pageYOffset||document.documentElement.scrollTop,s=e-t;if(s<=0)return void(this.maxScrollPercent=100);const a=Math.round(i/s*100),r=Math.min(100,Math.max(0,a));r>this.maxScrollPercent&&(this.maxScrollPercent=r,this.checkMilestones(r))}checkMilestones(e){if(!this.onMilestone)return;const t=[25,50,75,100];for(const i of t)e>=i&&this.lastMilestone<i&&(this.lastMilestone=i,this.onMilestone(i))}reset(){this.maxScrollPercent=0,this.lastMilestone=0}}class nt{constructor(){this.onNavigate=null,this.originalPushState=null,this.originalReplaceState=null,this.handleNavigation=()=>{const e=window.location.href;e!==this.currentUrl&&(this.currentUrl=e,this.onNavigate&&this.onNavigate(e))},this.currentUrl=window.location.href}start(){this.patchHistory(),window.addEventListener("popstate",this.handleNavigation),window.addEventListener("hashchange",this.handleNavigation)}stop(){this.restoreHistory(),window.removeEventListener("popstate",this.handleNavigation),window.removeEventListener("hashchange",this.handleNavigation)}setNavigationCallback(e){this.onNavigate=e}patchHistory(){this.originalPushState=history.pushState,this.originalReplaceState=history.replaceState,history.pushState=(...e)=>{this.originalPushState?.apply(history,e),this.handleNavigation()},history.replaceState=(...e)=>{this.originalReplaceState?.apply(history,e),this.handleNavigation()}}restoreHistory(){this.originalPushState&&(history.pushState=this.originalPushState),this.originalReplaceState&&(history.replaceState=this.originalReplaceState)}getCurrentUrl(){return this.currentUrl}}const ot=[/bot/i,/crawler/i,/spider/i,/scraper/i,/googlebot/i,/bingbot/i,/yandex/i,/baidu/i,/duckduck/i,/slurp/i,/msnbot/i,/ia_archiver/i,/facebook/i,/twitter/i,/linkedin/i,/pinterest/i,/headless/i,/phantom/i,/selenium/i,/puppeteer/i,/lighthouse/i,/pagespeed/i,/gtmetrix/i];const ht=[{after:0,desktopInterval:1e4,mobileInterval:7e3},{after:18e4,desktopInterval:2e4,mobileInterval:14e3},{after:3e5,desktopInterval:3e4,mobileInterval:21e3}],ct={debug:!1,sessionTimeout:18e5,heartbeatInterval:1e4,adClickIds:l,anonymizeIP:!1,trackSPA:!0,trackScroll:!0,trackClicks:!1,heartbeatTiers:ht,heartbeatMaxDuration:6e5,resetHeartbeatOnNavigation:!1};const lt=new class{constructor(){this.config=null,this.storage=null,this.tabStorage=null,this.sessionManager=null,this.durationTracker=null,this.sender=null,this.deviceDetector=null,this.scrollTracker=null,this.navigationTracker=null,this.deviceInfo=null,this.heartbeatTimeout=null,this.heartbeatState={activeStartTime:0,accumulatedActiveMs:0,isActive:!1,maxDurationReached:!1,lastPingTime:0,currentTierIndex:0,pageActiveMs:0,pageStartTime:0},this.isMobileDevice=!1,this.isTracking=!1,this.isPaused=!1,this.isInitialized=!1,this.initPromise=null,this.flushed=!1,this.onVisibilityChange=()=>{"hidden"===document.visibilityState?(this.durationTracker?.hideFocus(),this.stopHeartbeat(!0),this.flushOnce()):"visible"===document.visibilityState&&(this.flushed=!1,this.isPaused||this.heartbeatState.maxDurationReached||(this.durationTracker?.resumeFocus(),this.resumeHeartbeat()),this.sender?.flushQueue())},this.onFocus=()=>{this.flushed=!1,this.isPaused||this.heartbeatState.maxDurationReached||(this.durationTracker?.resumeFocus(),this.resumeHeartbeat()),this.sender?.flushQueue()},this.onBlur=()=>{this.durationTracker?.pauseFocus(),this.stopHeartbeat(!0),this.flushOnce()},this.onFreeze=()=>{this.durationTracker?.hideFocus(),this.stopHeartbeat(!0),this.flushOnce()},this.onResume=()=>{this.flushed=!1,this.isPaused||this.heartbeatState.maxDurationReached||(this.durationTracker?.resumeFocus(),this.resumeHeartbeat())},this.onUnload=()=>{this.flushOnce()},this.onPageShow=e=>{e.persisted&&(this.flushed=!1,this.isPaused||this.heartbeatState.maxDurationReached||(this.durationTracker?.resumeFocus(),this.resumeHeartbeat()),this.config)},this.onOnline=()=>{this.sender?.flushQueue()}}init(e){return this.initPromise=this.initializeAsync(e),this.initPromise}async initializeAsync(e){if(!e.workspace_id)throw new Error("workspace_id is required");if(!e.endpoint)throw new Error("endpoint is required");if(function(){const e=navigator.userAgent.toLowerCase();return!!ot.some(t=>t.test(e))||(!!navigator.webdriver||[!("plugins"in navigator)||0===navigator.plugins.length,!("languages"in navigator)||0===navigator.languages.length,!window.chrome&&/chrome/i.test(e),0===screen.width||0===screen.height,!("ontouchstart"in window)&&/mobile/i.test(e)].filter(Boolean).length>=3)}())return;this.config={...ct,...e},this.config.heartbeatTiers=this.validateTiers(this.config.heartbeatTiers),0!==this.config.heartbeatMaxDuration&&this.config.heartbeatMaxDuration<6e4&&(this.config.heartbeatMaxDuration=6e4),this.storage=new t,this.tabStorage=new i,this.deviceDetector=new at,this.deviceInfo=await this.deviceDetector.detectWithClientHints(),this.isMobileDevice="desktop"!==this.deviceInfo?.device,this.sessionManager=new u(this.storage,this.tabStorage,this.config),this.sessionManager.getOrCreateSession(),this.durationTracker=new d(this.config.debug),this.durationTracker.setTickCallback(()=>this.onTick());const s=this.sessionManager.getSession();s&&s.focus_duration_ms>0&&this.durationTracker.setAccumulatedDuration(s.focus_duration_ms),this.sender=new g(this.config.endpoint,this.storage,this.config.debug),this.config.trackScroll&&(this.scrollTracker=new rt,this.scrollTracker.setMilestoneCallback(e=>this.onScrollMilestone(e)),this.scrollTracker.start()),this.config.trackSPA&&(this.navigationTracker=new nt,this.navigationTracker.setNavigationCallback(e=>this.onNavigation(e)),this.navigationTracker.start()),this.bindEvents(),this.isTracking=!0,this.isInitialized=!0,this.durationTracker.startFocus();const a=Date.now();this.heartbeatState.pageStartTime=a,this.heartbeatState.activeStartTime=a,this.startHeartbeat(),this.sendEvent("screen_view"),this.sender.flushQueue(),this.config.debug}bindEvents(){document.addEventListener("visibilitychange",this.onVisibilityChange),window.addEventListener("focus",this.onFocus),window.addEventListener("blur",this.onBlur),document.addEventListener("freeze",this.onFreeze),document.addEventListener("resume",this.onResume),window.addEventListener("pagehide",this.onUnload),window.addEventListener("beforeunload",this.onUnload),window.addEventListener("pageshow",this.onPageShow),window.addEventListener("online",this.onOnline)}flushOnce(){this.flushed||(this.flushed=!0,this.updateSession(),this.sendEvent("ping"))}onTick(){this.updateSession()}onNavigation(e){this.config,this.scrollTracker?.reset(),this.resetPageActiveTime(),this.config?.resetHeartbeatOnNavigation&&(this.resetHeartbeatState(),this.startHeartbeat()),this.sendEvent("screen_view")}onScrollMilestone(e){this.config,this.sendEvent("scroll")}updateSession(){this.sessionManager&&this.durationTracker&&this.sessionManager.updateSession({focus_duration_ms:this.durationTracker.getFocusDurationMs(),total_duration_ms:Date.now()-(this.sessionManager.getSession()?.created_at||Date.now()),max_scroll_percent:this.scrollTracker?.getMaxScrollPercent()||0})}startHeartbeat(){if(!this.config)return;if(this.heartbeatState.maxDurationReached)return void this.config.debug;this.stopHeartbeat(!1);const e=Date.now();this.heartbeatState.activeStartTime=e,this.heartbeatState.isActive=!0,this.heartbeatState.lastPingTime=e,this.scheduleNextHeartbeat()}resumeHeartbeat(){if(!this.config)return;if(this.heartbeatState.maxDurationReached)return;const e=Date.now();this.heartbeatState.activeStartTime=e,this.heartbeatState.pageStartTime=e,this.heartbeatState.isActive=!0,this.heartbeatState.lastPingTime=e,this.scheduleNextHeartbeat()}scheduleNextHeartbeat(){if(!this.config||!this.heartbeatState.isActive)return;if(this.checkAndUpdateMaxDuration())return void this.stopHeartbeat(!0);const e=this.getCurrentInterval();if(null===e)return this.heartbeatState.maxDurationReached=!0,this.stopHeartbeat(!0),void this.config.debug;const t=this.heartbeatState.lastPingTime+e,i=Date.now(),s=Math.max(0,t-i);this.heartbeatTimeout=setTimeout(()=>{if(this.shouldSendPing()){const e=Date.now();e-t>1e3&&this.config;const i=this.getCurrentTier();i&&(this.heartbeatState.currentTierIndex=i.index),this.sendPingEvent(),this.heartbeatState.lastPingTime=e,this.scheduleNextHeartbeat()}},s)}shouldSendPing(){return!this.isPaused&&this.isTracking&&this.heartbeatState.isActive&&!document.hidden&&"visible"===document.visibilityState}sendPingEvent(){const e=this.getCurrentTier(),t=this.getTotalActiveMs(),i=this.getPageActiveMs();this.sendEvent("ping",{tier:String(e?.index??0),active_time:String(Math.round(t/1e3)),page_active_time:String(Math.round(i/1e3))})}stopHeartbeat(e=!0){if(e&&this.heartbeatState.isActive){const e=Date.now(),t=e-this.heartbeatState.activeStartTime;this.heartbeatState.accumulatedActiveMs+=t;const i=e-this.heartbeatState.pageStartTime;this.heartbeatState.pageActiveMs+=i}this.heartbeatState.isActive=!1,this.heartbeatTimeout&&(clearTimeout(this.heartbeatTimeout),this.heartbeatTimeout=null)}getTotalActiveMs(){let e=this.heartbeatState.accumulatedActiveMs;return this.heartbeatState.isActive&&(e+=Date.now()-this.heartbeatState.activeStartTime),e}getPageActiveMs(){let e=this.heartbeatState.pageActiveMs;return this.heartbeatState.isActive&&(e+=Date.now()-this.heartbeatState.pageStartTime),e}checkAndUpdateMaxDuration(){if(!this.config||0===this.config.heartbeatMaxDuration)return!1;if(this.getTotalActiveMs()>=this.config.heartbeatMaxDuration){if(this.heartbeatState.maxDurationReached=!0,this.config.debug){this.getCurrentTier()}return!0}return!1}getCurrentTier(){if(!this.config)return null;const e=this.getTotalActiveMs(),t=this.config.heartbeatTiers;let i=t[0],s=0;for(let a=0;a<t.length&&e>=t[a].after;a++)i=t[a],s=a;return{tier:i,index:s}}getCurrentInterval(){const e=this.getCurrentTier();if(!e)return null;const{tier:t}=e;return this.isMobileDevice?t.mobileInterval:t.desktopInterval}resetHeartbeatState(){this.stopHeartbeat(!1),this.heartbeatState={activeStartTime:0,accumulatedActiveMs:0,isActive:!1,maxDurationReached:!1,lastPingTime:0,currentTierIndex:0,pageActiveMs:0,pageStartTime:Date.now()}}resetPageActiveTime(){this.heartbeatState.pageActiveMs=0,this.heartbeatState.pageStartTime=Date.now()}validateTiers(e){if(!e||0===e.length)return ht;const t=[...e].sort((e,t)=>e.after-t.after);return 0!==t[0].after&&t.unshift({after:0,desktopInterval:1e4,mobileInterval:7e3}),t.map(e=>({...e,desktopInterval:null===e.desktopInterval?null:Math.max(e.desktopInterval,5e3),mobileInterval:null===e.mobileInterval?null:Math.max(e.mobileInterval,5e3)}))}sendEvent(e,t){if(!(this.isTracking&&this.sessionManager&&this.sender&&this.config))return;const i=this.sessionManager.getSession();if(!i)return;const s=function(e){if(!e)return{domain:null,path:null};try{const t=new URL(e);return{domain:t.hostname,path:t.pathname}}catch{return{domain:null,path:null}}}(i.referrer||""),a={workspace_id:i.workspace_id,session_id:i.id,name:e,path:window.location.pathname,landing_page:i.landing_page,referrer:i.referrer||void 0,referrer_domain:s.domain||void 0,referrer_path:s.path||void 0,utm_source:i.utm?.source||void 0,utm_medium:i.utm?.medium||void 0,utm_campaign:i.utm?.campaign||void 0,utm_term:i.utm?.term||void 0,utm_content:i.utm?.content||void 0,utm_id:i.utm?.id||void 0,utm_id_from:i.utm?.id_from||void 0,screen_width:this.deviceInfo?.screen_width,screen_height:this.deviceInfo?.screen_height,viewport_width:this.deviceInfo?.viewport_width,viewport_height:this.deviceInfo?.viewport_height,device:this.deviceInfo?.device,browser:this.deviceInfo?.browser,browser_type:this.deviceInfo?.browser_type,os:this.deviceInfo?.os,user_agent:this.deviceInfo?.user_agent,connection_type:this.deviceInfo?.connection_type,language:this.deviceInfo?.language,timezone:this.deviceInfo?.timezone,duration:this.durationTracker?.getFocusDurationSeconds()||0,max_scroll:this.scrollTracker?.getMaxScrollPercent()||0,sdk_version:"5.0.0",tab_id:this.sessionManager.getTabId(),created_at:i.created_at,updated_at:Date.now(),...this.sessionManager.getDimensionsPayload(),...t},r=Object.fromEntries(Object.entries(a).filter(([e,t])=>void 0!==t));this.sender.send(r)}async getSessionId(){return await this.ensureInitialized(),this.sessionManager?.getSessionId()||""}async getVisitorId(){return await this.ensureInitialized(),this.sessionManager?.getVisitorId()||""}async getFocusDuration(){return await this.ensureInitialized(),this.durationTracker?.getFocusDurationMs()||0}async getTotalDuration(){await this.ensureInitialized();const e=this.sessionManager?.getSession();return e?Date.now()-e.created_at:0}async trackPageView(e){await this.ensureInitialized(),e&&window.history.pushState({},"",e),this.sendEvent("screen_view")}async trackEvent(e,t){await this.ensureInitialized(),this.sendEvent("ping",{event_name:e,...t})}async trackGoal(e){await this.ensureInitialized();const t={goal_name:e.action};e.id&&(t.goal_id=e.id),void 0!==e.value&&(t.goal_value=String(e.value)),e.currency&&(t.goal_currency=e.currency),e.properties&&Object.assign(t,e.properties),this.sendEvent("goal",t)}async setDimension(e,t){await this.ensureInitialized(),this.sessionManager?.setDimension(e,t)}async setDimensions(e){await this.ensureInitialized(),this.sessionManager?.setDimensions(e)}async getDimension(e){return await this.ensureInitialized(),this.sessionManager?.getDimension(e)||null}async clearDimensions(){await this.ensureInitialized(),this.sessionManager?.clearDimensions()}async pause(){await this.ensureInitialized(),this.isPaused=!0,this.durationTracker?.pauseFocus(),this.stopHeartbeat(!0)}async resume(){await this.ensureInitialized(),this.isPaused=!1,this.durationTracker?.resumeFocus(),this.resetHeartbeatState(),this.startHeartbeat()}async reset(){await this.ensureInitialized(),this.sessionManager&&(this.sessionManager.reset(),this.durationTracker?.reset(),this.scrollTracker?.reset(),this.resetHeartbeatState(),this.startHeartbeat(),this.sendEvent("screen_view"))}getConfig(){return this.config?{...this.config}:null}debug(){return{session:this.sessionManager?.getSession()||null,config:this.config,focusState:this.durationTracker?.getState()||"FOCUSED",isTracking:this.isTracking,queueLength:this.sender?.getQueueLength()||0}}async ensureInitialized(){if(!this.isInitialized){if(!this.initPromise)throw new Error("Staminads not configured. Set window.StaminadsConfig before loading the SDK.");await this.initPromise}}},ut={getSessionId:()=>lt.getSessionId(),getVisitorId:()=>lt.getVisitorId(),getConfig:()=>lt.getConfig(),getFocusDuration:()=>lt.getFocusDuration(),getTotalDuration:()=>lt.getTotalDuration(),trackPageView:e=>lt.trackPageView(e),trackEvent:(e,t)=>lt.trackEvent(e,t),trackGoal:e=>lt.trackGoal(e),setDimension:(e,t)=>lt.setDimension(e,t),setDimensions:e=>lt.setDimensions(e),getDimension:e=>lt.getDimension(e),clearDimensions:()=>lt.clearDimensions(),pause:()=>lt.pause(),resume:()=>lt.resume(),reset:()=>lt.reset(),debug:()=>lt.debug()};return"undefined"!=typeof window&&window.StaminadsConfig&&lt.init(window.StaminadsConfig),ut});
//# sourceMappingURL=staminads.min.js.map
